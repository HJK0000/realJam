<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>	
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<style>
    /* 탭 버튼 스타일 */
    .tab-button {
        padding: 10px 20px;
        cursor: pointer;
        display: inline-block;
        border: 1px solid #ccc;
        border-bottom: none;
        background-color: #f1f1f1;
        margin-right: 5px;
    }
    .tab-button.active {
        background-color: #fff;
        border-bottom: 1px solid #fff;
    }

    /* 폼 스타일 */
    .form-container {
        display: none;
        border: 1px solid #ccc;
        padding: 20px;
        background-color: #fff;
    }
    .form-container.active {
        display: block;
    }
</style>
</head>
<body>
	<div>
	    <div class="tab-button" id="user-tab">개인회원</div>
	    <div class="tab-button" id="company-tab">기업회원</div>
	</div>
	<div class="form-container" id="user-form">
		<form id="regForm1">
			<input type="text" name="username" placeholder=" 아이디*">
			<input type="button" name="dup-check" value="중복체크" onclick="loadDoc1()"><br>
			<input type="text" name="password" placeholder=" 비밀번호*"><br>
			<input type="password" name="passwordu" placeholder=" 비밀번호확인*" id="passwordu"><br>
			<input type="text" name="uname" placeholder=" 이름*"><br>
			<input type="radio" name="gender" value="0">남성
			<input type="radio" name="gender" value="1">여성<br>
			<input type="date" name="birthDate"><br>
			<input type="text" name="email" placeholder=" 이메일*"><br>
			<input type="text" name="tel" placeholder=" 전화번호*"><br>
			<input type="text" name="uaddr" placeholder=" 현 거주지*"><br>
			<input type="file" name="originName"><br>
			<input type="submit" value="가입하기" onclick="submitForm(event)">
		</form>
	</div>
	<div class="form-container" id="company-form">	
		<form id="regForm2">
			<input type="text" name="cname" placeholder=" 기업명*"><br>
			<input type="text" name="username" placeholder=" 아이디*" id="username">
			<input type="button" name="dup-check" value="중복체크" onclick="loadDoc2()"><br>
			<input type="password" name="password" placeholder=" 비밀번호*" id="password"><br>
			<input type="password" name="passwordc" placeholder=" 비밀번호확인*" id="passwordc"><br>
			<input type="text" name="ceo" placeholder=" 대표자명*"><br>
			<input type="text" name="cnum" placeholder=" 사업자번호*"><br>
			<input type="text" name="caddr" placeholder=" 기업주소*"><br>
			<input type="text" name="sector" placeholder=" 업종*"><br>
			<input type="text" name="employee" placeholder=" 사원수*"><br>
			<input type="text" name="url" placeholder=" 회사홈페이지url*"><br>
			<input type="text" name="size" placeholder=" 기업규모*"><br>
			<input type="text" name="major" placeholder=" 주요사업*"><br>
			<input type="text" name="yrSales" placeholder=" 연매출액*"><br>
			<input type="submit" value="가입하기" onclick="submitForm2(event)">
		</form>
	</div>
	<script>
	
	function submitForm(event){
		event.preventDefault(); //submit버튼의 기본기능을 제한하겠다.
		
		var form = document.forms['regForm1'];
		var formData = $(form).serialize();
		
		$.ajax({
			type: "POST",
			url: "http://localhost:9002/user",
			contentType: "application/x-www-form-urlencoded",
			data: formData,
			dataType: "text", // 서버가 보내주는 데이터의 타입
			success: function(data){
				console.log(data);
			},
			error: function(){
				console.log("에러 발생.....");
			}
		})
	}
	
	function submitForm2(event){
		event.preventDefault(); //submit버튼의 기본기능을 제한하겠다.
		
		var form = document.forms['regForm2'];
		var formData = $(form).serialize();
		
		$.ajax({
			type: "POST",
			url: "http://localhost:9002/com",
			contentType: "application/x-www-form-urlencoded",
			data: formData,
			dataType: "text", // 서버가 보내주는 데이터의 타입
			success: function(data){
				console.log(data);
			},
			error: function(){
				console.log("에러 발생.....");
			}
		})
	}
	
    // jQuery로 탭 버튼 클릭 이벤트 설정
    $(document).ready(function() {
        // 기본적으로 유저 폼을 보이도록 설정
        $("#user-tab").addClass("active");
        $("#user-form").addClass("active");

        // 유저 탭 클릭 이벤트
        $("#user-tab").click(function() {
            $(".tab-button").removeClass("active");
            $(".form-container").removeClass("active");
            $("#user-tab").addClass("active");
            $("#user-form").addClass("active");
        });

        // 회사 탭 클릭 이벤트
        $("#company-tab").click(function() {
            $(".tab-button").removeClass("active");
            $(".form-container").removeClass("active");
            $("#company-tab").addClass("active");
            $("#company-form").addClass("active");
        });
    });
</script>

</body>
</html>